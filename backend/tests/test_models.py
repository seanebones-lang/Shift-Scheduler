import pytest\nfrom pydantic import ValidationError\nfrom app.main import (\n    ForecastInterval,\n    Forecast,\n    SalesPoint,\n    ForecastRequest,\n    Staff,\n    OptimizeRequest,\n    Shift,\n    Schedule,\n)\n\n\nclass TestForecastInterval:\n    def test_valid(self):\n        fi = ForecastInterval(\n            time=\"2024-01-01T12:00:00\",\n            demand=10.5,\n            confidence_low=8.0,\n            confidence_high=13.0\n        )\n        assert fi.time == \"2024-01-01T12:00:00\"\n        assert fi.demand == 10.5\n        assert fi.confidence_low == 8.0\n        assert fi.confidence_high == 13.0\n\n    def test_invalid_demand_negative(self):\n        with pytest.raises(ValidationError):\n            ForecastInterval(\n                time=\"2024-01-01T12:00:00\",\n                demand=-1.0,\n                confidence_low=-2.0,\n                confidence_high=0.0\n            )\n\n    def test_invalid_time_format(self):\n        with pytest.raises(ValidationError):\n            ForecastInterval(\n                time=\"invalid\",\n                demand=10.0,\n                confidence_low=8.0,\n                confidence_high=12.0\n            )\n\n\nclass TestForecast:\n    def test_valid(self):\n        forecast = Forecast(intervals=[\n            ForecastInterval(time=\"2024-01-01T00:00:00\", demand=5.0, confidence_low=4.0, confidence_high=6.0)\n        ])\n        assert len(forecast.intervals) == 1\n        assert forecast.intervals[0].demand == 5.0\n\n\nclass TestSalesPoint:\n    def test_valid(self):\n        sp = SalesPoint(ds=\"2024-01-01\", y=100.0)\n        assert sp.ds == \"2024-01-01\"\n        assert sp.y == 100.0\n\n    def test_invalid_y_negative(self):\n        with pytest.raises(ValidationError):\n            SalesPoint(ds=\"2024-01-01\", y=-10.0)\n\n\nclass TestForecastRequest:\n    def test_valid(self):\n        req = ForecastRequest(history=[SalesPoint(ds=\"2024-01-01\", y=100.0)])\n        assert len(req.history) == 1\n\n    def test_empty_history(self):\n        with pytest.raises(ValidationError):  # min_length not set, but test empty\n            ForecastRequest(history=[])\n\n\nclass TestStaff:\n    def test_valid(self):\n        staff = Staff(id=\"1\", name=\"John Doe\", wage=25.0, skill=\"barista\")\n        assert staff.id == \"1\"\n        assert staff.name == \"John Doe\"\n        assert staff.wage == 25.0\n        assert staff.skill == \"barista\"\n\n    def test_default_skill(self):\n        staff = Staff(id=\"1\", name=\"Jane\", wage=20.0)\n        assert staff.skill == \"general\"\n\n    def test_invalid_wage(self):\n        with pytest.raises(ValidationError):\n            Staff(id=\"1\", name=\"Jane\", wage=-10.0)\n\n\nclass TestOptimizeRequest:\n    def test_valid(self):\n        req = OptimizeRequest(\n            forecast=[ForecastInterval(time=\"2024-01-01T00:00:00\", demand=5.0, confidence_low=4.0, confidence_high=6.0)],\n            staff=[Staff(id=\"1\", name=\"John\", wage=25.0)]\n        )\n        assert len(req.forecast) == 1\n        assert len(req.staff) == 1\n\n\nclass TestShift:\n    def test_valid(self):\n        shift = Shift(\n            staff_id=\"1\",\n            name=\"John Doe\",\n            start=\"2024-01-01T08:00:00\",\n            end=\"2024-01-01T16:00:00\",\n            cost=200.0\n        )\n        assert shift.staff_id == \"1\"\n        assert shift.cost == 200.0\n\n    def test_invalid_cost(self):\n        with pytest.raises(ValidationError):\n            Shift(\n                staff_id=\"1\",\n                name=\"John\",\n                start=\"2024-01-01T08:00:00\",\n                end=\"2024-01-01T16:00:00\",\n                cost=-100.0\n            )\n\n\nclass TestSchedule:\n    def test_valid(self):\n        schedule = Schedule(shifts=[], total_cost=0.0)\n        assert schedule.total_cost == 0.0\n        assert len(schedule.shifts) == 0\n